{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,SAEA,MAAMC,EAAM,CACZC,KAAKC,SAASC,cAAc,SAC5BC,WAAWF,SAASC,cAAc,yBAClCE,KAAKH,SAASC,cAAc,wBAC5BG,OAAOJ,SAASC,cAAc,0BAC9BI,OAAOL,SAASC,cAAc,WAG9BH,EAAIC,KAAKO,iBAAiB,UAmB1B,SAAkBC,GAChBT,EAAIO,OAAOG,UAAW,EACpBD,EAAME,iBACN,MAAMC,UAAUC,MAAEA,EAAKR,KAAEA,EAAIC,OAAEA,IAAUG,EAAMK,cAE/C,IAAKC,EAAcC,OAAOH,EAAMI,OAC5BC,EAAaF,OAAOX,EAAKY,OACzBE,EAAeH,OAAOV,EAAOW,OAGjCG,QAAQC,IAAIN,GACZK,QAAQC,IAAIH,GACZE,QAAQC,IAAIF,GAEZ,MAAMG,EAAWC,aAAY,KA2B3B,GAxDN,SAAuBC,EAAUX,GAC/B,MAAMY,EAAU,IAAIC,SAAQ,CAACC,EAAKC,KACVC,KAAKC,SAAW,GAEpCH,EAAI,CAAEI,SAAAP,E,MAAUX,IAEjBe,EAAI,CAAEG,SAAAP,E,MAAUX,GAAQ,GAGzBA,GAEF,OADEO,QAAQC,IAAII,GACPA,C,CAqBHO,CAAcC,EAAUlB,GACrBmB,MAAMC,IACLrC,EAAAsC,OAAOC,QAAQ,qBAAqBF,EAAOJ,eAAeI,EAAOtB,UAC/D,CACAyB,MAAO,QACPC,aAAc,OACZR,SAAU,aAEVS,SAAU,OACVC,SAAS,QACX,IAEHC,OAAOC,IACN7C,EAAAsC,OAAOQ,QAAQ,oBAAoBD,EAAIZ,eAAeY,EAAI9B,UACxD,CACAyB,MAAO,QACPC,aAAc,OACZR,SAAU,aACVS,SAAU,OAEVC,SAAS,QACX,IAGFR,IAAad,EAIf,OAHA0B,cAAcvB,GACdtB,EAAIO,OAAOG,UAAW,OAc9B,SAAgBG,EAAOR,EAAMC,GAC3BO,EAAMI,MAAM,GACZZ,EAAKY,MAAM,GACXX,EAAOW,MAAM,E,CAhBP6B,CAAMjC,EAAOR,EAAMC,GAKnB2B,GAAY,EACZlB,GAAeG,CAAW,GAC9BH,E,IApEJ,IAAIkB,EAAW","sources":["src/js/03-promises.js"],"sourcesContent":["import { Notify } from 'notiflix/build/notiflix-notify-aio';\n\nconst ref = {\nform:document.querySelector('.form'),\nfirstDelay:document.querySelector('input[name = \"delay\"]'),\nstep:document.querySelector('input[name = \"step\"]'),\namount:document.querySelector('input[name = \"amount\"]'),\nbutton:document.querySelector('button'),\n\n}\nref.form.addEventListener('submit', onSubmit)\n\nlet position = 1;\n\nfunction createPromise(position, delay) {\n  const promise = new Promise((res, rej) => {\n    const shouldResolve = Math.random() > 0.3;\n    if (shouldResolve) {\n      res({ position, delay })\n    } else {\n     rej({ position, delay });\n    }\n    \n  },delay)\n    console.log(promise )\n  return promise\n\n}\n\nfunction onSubmit(event) {\n  ref.button.disabled = true\n    event.preventDefault();\n    const{elements: { delay, step, amount }}=event.currentTarget\n  \n    let  promiseDelay= Number(delay.value)\n    let promiseStep= Number(step.value)\n    let promiseAmount= Number(amount.value)\n  \n  \n    console.log(promiseDelay)\n    console.log(promiseStep)\n    console.log(promiseAmount)\n   \n    const promiseId= setInterval(() => {\n  \n  \n      createPromise(position, promiseDelay)\n        .then((result) => {\n          Notify.success(`Fulfilled promise ${result.position} in ${result.delay}ms`,\n            {\n            width: '550px', \n            borderRadius: '20px',\n              position: 'center-top',\n            \n              distance: '25px',\n              fontSize:'25px'\n          })\n        })\n        .catch((err) => {\n          Notify.failure(`Rejected promise ${err.position} in ${err.delay}ms`,\n            {\n            width: '550px', \n            borderRadius: '20px',\n              position: 'center-top',\n              distance: '25px',\n           \n              fontSize:'25px'\n          })\n        });\n     \n      if (position === promiseAmount) {\n        clearInterval(promiseId)\n        ref.button.disabled = false;\n        reset(delay, step, amount )\n        return \n       \n    \n        }\n        position += 1\n        promiseDelay+= promiseStep\n  },promiseDelay)\n    \n  \n  \n  }\n \nfunction reset( delay, step, amount ) {\n  delay.value=\"\"\n  step.value=\"\"\n  amount.value=\"\"\n}\n"],"names":["$iQIUW","parcelRequire","$47d4ff9957288465$var$ref","form","document","querySelector","firstDelay","step","amount","button","addEventListener","event","disabled","preventDefault","elements","delay","currentTarget","promiseDelay","Number","value","promiseStep","promiseAmount","console","log","promiseId","setInterval","position1","promise","Promise","res","rej","Math","random","position","$47d4ff9957288465$var$createPromise","$47d4ff9957288465$var$position","then","result","Notify","success","width","borderRadius","distance","fontSize","catch","err","failure","clearInterval","$47d4ff9957288465$var$reset"],"version":3,"file":"03-promises.c214bd2c.js.map"}