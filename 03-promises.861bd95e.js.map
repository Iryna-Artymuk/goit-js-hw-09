{"mappings":"gfAAA,IAAAA,EAAAC,EAAA,SAEMC,EAAM,CACZC,KAAKC,SAASC,cAAc,SAC5BC,WAAWF,SAASC,cAAc,yBAClCE,KAAKH,SAASC,cAAc,wBAC5BG,OAAOJ,SAASC,cAAc,0BAC9BI,OAAOL,SAASC,cAAc,WAG9BH,EAAIC,KAAKO,iBAAiB,UAmB1B,SAAkBC,GAChBT,EAAIO,OAAOG,UAAW,EACpBD,EAAME,iBACN,IAA4DC,EAAnBH,EAAMI,cAAzCC,SAAYC,EAAKH,EAALG,MAAOV,EAAIO,EAAJP,KAAMC,EAAMM,EAANN,OAE1BU,EAAcC,OAAOF,EAAMG,OAC5BC,EAAaF,OAAOZ,EAAKa,OACzBE,EAAeH,OAAOX,EAAOY,OAGjCG,QAAQC,IAAIN,GACZK,QAAQC,IAAIH,GACZE,QAAQC,IAAIF,GAEZ,IAAMG,EAAWC,aAAY,WAqB3B,GAlDN,SAAuBC,EAAUV,GAC/B,IAAMW,EAAU,IAAIC,SAAQ,SAACC,EAAKC,GACVC,KAAKC,SAAW,GAEpCH,EAAI,CAAEI,SAAAP,EAAUV,UAEjBc,EAAI,CAAEG,SAAAP,EAAUV,S,GAGjBA,GAEF,OADEM,QAAQC,IAAII,GACPA,C,CAqBHO,CAAcC,EAAUlB,GACrBmB,MAAK,SAACC,GACLtC,EAAAuC,OAAOC,QAAQ,uBAA+CC,OAAtBH,EAAOJ,SAAS,QAAmBO,OAAbH,EAAOrB,MAAM,MACvE,CACFyB,MAAO,QACPC,aAAc,OACdT,SAAU,c,IAGbU,OAAM,SAACC,GACN7C,EAAAuC,OAAOO,QAAQ,uBAA0CL,OAAnBI,EAAIX,SAAS,QAAgBO,OAAVI,EAAI5B,MAAM,MACjE,CACAyB,MAAO,QACPC,aAAc,OACdT,SAAU,c,IAIZE,IAAad,EAIf,OAHAyB,cAActB,GACdvB,EAAIO,OAAOG,UAAW,OAc9B,SAAgBK,EAAOV,EAAMC,GAC3BS,EAAMG,MAAM,GACZb,EAAKa,MAAM,GACXZ,EAAOY,MAAM,E,CAhBP4B,CAAM/B,EAAOV,EAAMC,GAKnB4B,GAAY,EACZlB,GAAeG,C,GACnBH,E,IA9DJ,IAAIkB,EAAW,C","sources":["src/js/03-promises.js"],"sourcesContent":["import { Notify } from 'notiflix/build/notiflix-notify-aio';\n\nconst ref = {\nform:document.querySelector('.form'),\nfirstDelay:document.querySelector('input[name = \"delay\"]'),\nstep:document.querySelector('input[name = \"step\"]'),\namount:document.querySelector('input[name = \"amount\"]'),\nbutton:document.querySelector('button'),\n\n}\nref.form.addEventListener('submit', onSubmit)\n\nlet position = 1;\n\nfunction createPromise(position, delay) {\n  const promise = new Promise((res, rej) => {\n    const shouldResolve = Math.random() > 0.3;\n    if (shouldResolve) {\n      res({ position, delay })\n    } else {\n     rej({ position, delay });\n    }\n    \n  },delay)\n    console.log(promise )\n  return promise\n\n}\n\nfunction onSubmit(event) {\n  ref.button.disabled = true\n    event.preventDefault();\n    const{elements: { delay, step, amount }}=event.currentTarget\n  \n    let  promiseDelay= Number(delay.value)\n    let promiseStep= Number(step.value)\n    let promiseAmount= Number(amount.value)\n  \n  \n    console.log(promiseDelay)\n    console.log(promiseStep)\n    console.log(promiseAmount)\n   \n    const promiseId= setInterval(() => {\n  \n  \n      createPromise(position, promiseDelay)\n        .then((result) => {\n          Notify.success(`✅ Fulfilled promise ${result.position} in ${result.delay}ms`,\n            {\n            width: '500px', \n            borderRadius: '10px',\n            position: 'center-top',\n          })\n        })\n        .catch((err) => {\n          Notify.failure(` ❌ Rejected promise ${err.position} in ${err.delay}ms`,\n            {\n            width: '500px', \n            borderRadius: '10px',\n            position: 'center-top',\n          })\n        });\n     \n      if (position === promiseAmount) {\n        clearInterval(promiseId)\n        ref.button.disabled = false;\n        reset(delay, step, amount )\n        return \n       \n    \n        }\n        position += 1\n        promiseDelay+= promiseStep\n  },promiseDelay)\n    \n  \n  \n  }\n \nfunction reset( delay, step, amount ) {\n  delay.value=\"\"\n  step.value=\"\"\n  amount.value=\"\"\n}\n"],"names":["$h6c0i","parcelRequire","$ce04d3a99e08e73b$var$ref","form","document","querySelector","firstDelay","step","amount","button","addEventListener","event","disabled","preventDefault","_elements","currentTarget","elements","delay","promiseDelay","Number","value","promiseStep","promiseAmount","console","log","promiseId","setInterval","position1","promise","Promise","res","rej","Math","random","position","$ce04d3a99e08e73b$var$createPromise","$ce04d3a99e08e73b$var$position","then","result","Notify","success","concat","width","borderRadius","catch","err","failure","clearInterval","$ce04d3a99e08e73b$var$reset"],"version":3,"file":"03-promises.861bd95e.js.map"}